<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>äº¤äº’æµ‹è¯•é¡µé¢</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      max-width: 800px;
      margin: 50px auto;
      padding: 20px;
      background: #f5f5f5;
    }
    .test-section {
      background: white;
      padding: 20px;
      margin: 20px 0;
      border: 2px solid #333;
      box-shadow: 4px 4px 0 rgba(0,0,0,0.2);
    }
    .test-button {
      background: white;
      border: 2px solid black;
      padding: 10px 20px;
      margin: 10px;
      cursor: pointer;
      font-size: 16px;
      box-shadow: 2px 2px 0 rgba(0,0,0,1);
    }
    .test-button:hover {
      background: #f0f0f0;
    }
    .test-button:active {
      box-shadow: 1px 1px 0 rgba(0,0,0,1);
      transform: translate(1px, 1px);
    }
    .test-button.selected {
      border-color: blue;
      box-shadow: 3px 3px 0 rgba(37,99,235,1);
    }
    .status {
      padding: 10px;
      background: #e3f2fd;
      border-left: 4px solid #2196f3;
      margin: 10px 0;
    }
    .log {
      background: #263238;
      color: #aed581;
      padding: 15px;
      font-family: 'Courier New', monospace;
      font-size: 12px;
      max-height: 300px;
      overflow-y: auto;
      margin: 10px 0;
    }
    .log-entry {
      margin: 5px 0;
    }
  </style>
</head>
<body>
  <h1>ğŸ§ª è£…å¤‡é…ç½®ç³»ç»Ÿ - äº¤äº’æµ‹è¯•</h1>
  
  <div class="test-section">
    <h2>æµ‹è¯•1: åŸºæœ¬ç‚¹å‡»äº‹ä»¶</h2>
    <p>ç‚¹å‡»ä¸‹é¢çš„æŒ‰é’®ï¼Œè§‚å¯Ÿæ˜¯å¦æœ‰ååº”</p>
    <button class="test-button" onclick="testClick(1)">æµ‹è¯•æŒ‰é’® 1</button>
    <button class="test-button" onclick="testClick(2)">æµ‹è¯•æŒ‰é’® 2</button>
    <button class="test-button" onclick="testClick(3)">æµ‹è¯•æŒ‰é’® 3</button>
    <div class="status" id="click-status">ç­‰å¾…ç‚¹å‡»...</div>
  </div>

  <div class="test-section">
    <h2>æµ‹è¯•2: é€‰æ‹©çŠ¶æ€åˆ‡æ¢</h2>
    <p>ç‚¹å‡»æŒ‰é’®åˆ‡æ¢é€‰ä¸­çŠ¶æ€ï¼ˆæ¨¡æ‹Ÿè£…å¤‡é€‰æ‹©ï¼‰</p>
    <button class="test-button" id="select-btn-1" onclick="toggleSelect(1)">è£…å¤‡ 1</button>
    <button class="test-button" id="select-btn-2" onclick="toggleSelect(2)">è£…å¤‡ 2</button>
    <button class="test-button" id="select-btn-3" onclick="toggleSelect(3)">è£…å¤‡ 3</button>
    <div class="status" id="select-status">å½“å‰é€‰ä¸­: æ— </div>
  </div>

  <div class="test-section">
    <h2>æµ‹è¯•3: åŒæ­¥éª¤æ“ä½œï¼ˆæ¨¡æ‹Ÿè£…é…æµç¨‹ï¼‰</h2>
    <p><strong>æ­¥éª¤1:</strong> å…ˆç‚¹å‡»ä¸‹æ–¹çš„è£…å¤‡æŒ‰é’®é€‰æ‹©</p>
    <button class="test-button" id="equip-btn-1" onclick="selectEquipment(1)">å¤´ç›”</button>
    <button class="test-button" id="equip-btn-2" onclick="selectEquipment(2)">æ‰‹å¥—</button>
    <button class="test-button" id="equip-btn-3" onclick="selectEquipment(3)">æŠ¤è‚‹</button>
    
    <p><strong>æ­¥éª¤2:</strong> ç„¶åç‚¹å‡»æ§½ä½æŒ‰é’®è£…é…</p>
    <button class="test-button" onclick="equipToSlot('slot-1')">æ§½ä½ 1</button>
    <button class="test-button" onclick="equipToSlot('slot-2')">æ§½ä½ 2</button>
    <button class="test-button" onclick="equipToSlot('slot-3')">æ§½ä½ 3</button>
    
    <div class="status" id="equip-status">
      <div>å½“å‰é€‰ä¸­è£…å¤‡: <span id="selected-equip">æ— </span></div>
      <div>å·²è£…é…: <span id="equipped-list">æ— </span></div>
    </div>
  </div>

  <div class="test-section">
    <h2>ğŸ“Š æ“ä½œæ—¥å¿—</h2>
    <button class="test-button" onclick="clearLog()">æ¸…ç©ºæ—¥å¿—</button>
    <div class="log" id="log"></div>
  </div>

  <div class="test-section">
    <h2>ğŸ”— è¿”å›ä¸»åº”ç”¨</h2>
    <p>å¦‚æœä»¥ä¸Šæµ‹è¯•éƒ½æ­£å¸¸å·¥ä½œï¼Œè¯´æ˜æµè§ˆå™¨çš„ç‚¹å‡»äº‹ä»¶æ²¡æœ‰é—®é¢˜</p>
    <a href="/" class="test-button" style="display: inline-block; text-decoration: none; color: black;">
      è¿”å›è£…å¤‡é…ç½®ç³»ç»Ÿ
    </a>
  </div>

  <script>
    let clickCount = 0;
    let selectedId = null;
    let selectedEquipment = null;
    let equippedItems = {};

    function log(message, type = 'info') {
      const logDiv = document.getElementById('log');
      const entry = document.createElement('div');
      entry.className = 'log-entry';
      const timestamp = new Date().toLocaleTimeString();
      entry.textContent = `[${timestamp}] ${message}`;
      logDiv.appendChild(entry);
      logDiv.scrollTop = logDiv.scrollHeight;
    }

    function clearLog() {
      document.getElementById('log').innerHTML = '';
      log('æ—¥å¿—å·²æ¸…ç©º');
    }

    function testClick(id) {
      clickCount++;
      document.getElementById('click-status').textContent = 
        `æŒ‰é’® ${id} è¢«ç‚¹å‡»äº†ï¼æ€»ç‚¹å‡»æ¬¡æ•°: ${clickCount}`;
      log(`âœ… æµ‹è¯•æŒ‰é’® ${id} ç‚¹å‡»æˆåŠŸ`);
    }

    function toggleSelect(id) {
      // æ¸…é™¤æ‰€æœ‰é€‰ä¸­çŠ¶æ€
      for (let i = 1; i <= 3; i++) {
        document.getElementById(`select-btn-${i}`).classList.remove('selected');
      }
      
      // åˆ‡æ¢é€‰ä¸­çŠ¶æ€
      if (selectedId === id) {
        selectedId = null;
        document.getElementById('select-status').textContent = 'å½“å‰é€‰ä¸­: æ— ';
        log(`âŒ å–æ¶ˆé€‰ä¸­è£…å¤‡ ${id}`);
      } else {
        selectedId = id;
        document.getElementById(`select-btn-${id}`).classList.add('selected');
        document.getElementById('select-status').textContent = `å½“å‰é€‰ä¸­: è£…å¤‡ ${id}`;
        log(`âœ… é€‰ä¸­è£…å¤‡ ${id}`);
      }
    }

    function selectEquipment(id) {
      // æ¸…é™¤æ‰€æœ‰é€‰ä¸­çŠ¶æ€
      for (let i = 1; i <= 3; i++) {
        const btn = document.getElementById(`equip-btn-${i}`);
        if (btn) btn.classList.remove('selected');
      }
      
      // åˆ‡æ¢é€‰ä¸­çŠ¶æ€
      if (selectedEquipment === id) {
        selectedEquipment = null;
        document.getElementById('selected-equip').textContent = 'æ— ';
        log(`âŒ å–æ¶ˆé€‰ä¸­è£…å¤‡ ${id}`);
      } else {
        selectedEquipment = id;
        document.getElementById(`equip-btn-${id}`).classList.add('selected');
        const names = { 1: 'å¤´ç›”', 2: 'æ‰‹å¥—', 3: 'æŠ¤è‚‹' };
        document.getElementById('selected-equip').textContent = names[id];
        log(`âœ… é€‰ä¸­è£…å¤‡: ${names[id]}`);
      }
    }

    function equipToSlot(slotId) {
      if (selectedEquipment === null) {
        alert('è¯·å…ˆé€‰æ‹©ä¸€ä¸ªè£…å¤‡ï¼');
        log(`âš ï¸ å°è¯•è£…é…åˆ°${slotId}ï¼Œä½†æ²¡æœ‰é€‰ä¸­è£…å¤‡`);
        return;
      }
      
      const names = { 1: 'å¤´ç›”', 2: 'æ‰‹å¥—', 3: 'æŠ¤è‚‹' };
      equippedItems[slotId] = names[selectedEquipment];
      
      // æ›´æ–°æ˜¾ç¤º
      const equipped = Object.entries(equippedItems)
        .map(([slot, item]) => `${slot}: ${item}`)
        .join(', ');
      document.getElementById('equipped-list').textContent = equipped || 'æ— ';
      
      log(`âœ… è£…é…æˆåŠŸ: ${names[selectedEquipment]} â†’ ${slotId}`);
      log(`ğŸ“Š å½“å‰å·²è£…é…: ${Object.keys(equippedItems).length} ä»¶`);
      
      // æ¸…é™¤é€‰ä¸­çŠ¶æ€
      for (let i = 1; i <= 3; i++) {
        const btn = document.getElementById(`equip-btn-${i}`);
        if (btn) btn.classList.remove('selected');
      }
      selectedEquipment = null;
      document.getElementById('selected-equip').textContent = 'æ— ';
    }

    // åˆå§‹åŒ–æ—¥å¿—
    log('ğŸš€ æµ‹è¯•é¡µé¢åŠ è½½å®Œæˆ');
    log('ğŸ“ è¯·æŒ‰ç…§è¯´æ˜è¿›è¡Œæµ‹è¯•');
  </script>
</body>
</html>
